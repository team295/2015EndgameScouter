{% extends "layout.html" %}

{% block body %}
<script src="{{url_for('static',filename='jquery-2.1.1.min.js')}}"></script>
<script>
	$(document).ready(function()
	{
		$("form #quit").css("display", "none");	
		$("form #quit").hide();	
		var socket = io.connect('http://' + document.domain + ':' + location.port + '/scout/lobby');
      	socket.on('my response',function(msg){
          $("#log").append('<p> Received : ' + msg.data + '</p>');
        });
        socket.on('adduser',function(msg)
            
			{
			  $("form #quit").show();		
			  $("form #join").hide();
              $("#activeusers").append('<li id='msg.data'>' + msg.data + '</li>');
            });
        socket.on('removeuser',function(msg)
            {
			  $("form #quit").hide();		
			  $("form #join").show();	
              $("#activeusers").remove("#" + msg.data);
            });
        $("form #join").click(function() {
          socket.emit('join', {data:'Joining List'});
        });
        $("form #quit").click(function(){
          socket.emit('quit',{data:'Leaving List'});
        });
	});
</script>
<form>
	<p id="message">You are not in yet</p>
	<button id="join">Join</button>
	<button id="quit">Quit</button>

</form>
<ol id="activeusers">
</ol>	
<div id="log"></div>

{% endblock %}

